{"ast":null,"code":"var _jsxFileName = \"D:\\\\nurus file\\\\Semester 6\\\\PBF\\\\FlowerShop (1)\\\\uas_si\\\\src\\\\App.jsx\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport firebase from 'firebase';\nimport firebaseConfig from './firebase/firebaseConfig'; // import Signup from './Component/Signup';\n\nimport Dashboard from './Component/Dashboard';\nimport { connect } from 'react-redux';\nimport User from './Component/User';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: {}\n    };\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n        this.props.handleUser(user.email);\n        console.log(\"User adalah : \" + user.email);\n      } else {\n        this.setState({\n          user: null\n        });\n        this.props.handleUser(null);\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    console.log(this.state);\n  }\n\n  login(e) {\n    e.preventDefault();\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(u => {\n      console.log(u);\n    }).catch(err => {\n      console.log(err);\n      alert(err);\n      this.setState({\n        email: '',\n        password: ''\n      });\n    });\n  }\n\n  logout() {\n    firebase.auth().signOut();\n    window.location.reload();\n  }\n\n  render() {\n    return this.state.user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(HandleCekUser, {\n        user: this.props.userEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"t-login-1\",\n          children: \"Email*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          onChange: this.handleChange,\n          value: this.state.email,\n          placeholder: \"Enter your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"t-login-2\",\n          children: \"Password*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          onChange: this.handleChange,\n          value: this.state.password,\n          placeholder: \"Enter your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 143\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.login,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signup\",\n          id: \"btn-signup\",\n          children: \"Create an Account ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst HandleCekUser = usr => {\n  console.log(usr);\n\n  if (usr.user === \"admin@gmail.com\") {\n    // console.log('masuk');\n    return /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }, this);\n  } else {\n    console.log('masuk');\n    return /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_c = HandleCekUser;\n\nconst mapStateToProps = state => {\n  return {\n    userEmail: state.userEmail\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleUser: cek => dispatch({\n      type: 'ADD_USER',\n      newValue: cek\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"HandleCekUser\");","map":{"version":3,"sources":["D:/nurus file/Semester 6/PBF/FlowerShop (1)/uas_si/src/App.jsx"],"names":["React","Component","firebase","firebaseConfig","Dashboard","connect","User","App","constructor","props","apps","length","initializeApp","app","login","bind","handleChange","state","email","password","user","authListener","auth","onAuthStateChanged","setState","handleUser","console","log","componentDidMount","e","target","name","value","preventDefault","signInWithEmailAndPassword","then","u","catch","err","alert","logout","signOut","window","location","reload","render","userEmail","HandleCekUser","usr","mapStateToProps","mapDispatchToProps","dispatch","cek","type","newValue"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css';\nimport firebase from 'firebase';\nimport firebaseConfig from './firebase/firebaseConfig';\n// import Signup from './Component/Signup';\nimport Dashboard from './Component/Dashboard';\nimport { connect } from 'react-redux';\nimport User from './Component/User';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: {}\n    }\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({\n          user\n        })\n\n        this.props.handleUser(user.email);\n        console.log(\"User adalah : \" + user.email)\n      }\n      else {\n        this.setState({\n          user: null\n        })\n        this.props.handleUser(null);\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n    console.log(this.state);\n  }\n\n  login(e) {\n    e.preventDefault();\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u) => {\n      console.log(u)\n    }).catch((err) => {\n      console.log(err);\n      alert(err);\n      this.setState({\n        email: '',\n        password: ''\n      })\n    })\n  }\n\n  logout() {\n    firebase.auth().signOut();\n    window.location.reload();\n  }\n\n  render() {\n    return this.state.user ? (\n      <div>\n        {/* <button onClick={this.logout}>Logout</button> */}\n        <HandleCekUser user={this.props.userEmail}/>\n      </div>\n    ) : (\n      <div className=\"Login\">\n        <div className=\"card-login\">\n          <h1>Login</h1>\n          <p id=\"t-login-1\">Email*</p>\n          <input type=\"text\" name=\"email\" onChange={this.handleChange} value={this.state.email} placeholder=\"Enter your email\" />\n          <p id=\"t-login-2\">Password*</p>\n          <input type=\"password\" name=\"password\" onChange={this.handleChange} value={this.state.password} placeholder=\"Enter your password\" /><br />\n          <button onClick={this.login}>Login</button>\n          <a href=\"/signup\" id=\"btn-signup\">Create an Account ?</a>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst HandleCekUser = (usr) => {\n  console.log(usr);\n  if (usr.user === \"admin@gmail.com\") {\n    // console.log('masuk');\n    return <Dashboard />;\n  } else {\n    console.log('masuk');\n    return <User />\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n      userEmail: state.userEmail\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      handleUser: (cek) => dispatch({ type: 'ADD_USER', newValue: cek })\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\n"]},"metadata":{},"sourceType":"module"}