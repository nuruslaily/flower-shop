{"ast":null,"code":"var _jsxFileName = \"D:\\\\nurus file\\\\Semester 6\\\\PBF\\\\FlowerShop (1)\\\\uas_si\\\\src\\\\Component\\\\ProdukUser.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PostProdukUser from './PostProdukUser';\nimport firebase from 'firebase';\nimport firebaseConfig from '../firebase/firebaseConfig';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProdukUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addKeranjang = () => {\n      axios.post(\"http://localhost:8000/api/create-keranjang\", this.state.newKeranjangData).then(response => {\n        // const { produks } = this.state;\n        // const newProduks = [...produks];\n        // newProduks.push(response.data);\n        this.setState({\n          newKeranjangData: {\n            uid: \"\",\n            nama_bunga: \"\",\n            gambar: \"\",\n            jenis_bunga: \"\",\n            harga: \"\",\n            qty: \"\"\n          }\n        }, () => this.getProduk());\n      });\n      console.log(this.state);\n    };\n\n    this.handleBeli = (idProduk, uid, nama_bungaP, gambar, jenis_bunga, harga, qty) => {\n      this.setState({\n        newKeranjangData: { ...this.state.newKeranjangData,\n          uid: uid,\n          nama_bunga: nama_bungaP,\n          gambar: gambar,\n          jenis_bunga: jenis_bunga,\n          harga: harga,\n          qty: qty\n        }\n      }, () => this.addKeranjang()); // console.log(this.state);\n      // if(this.state.newKeranjangData.uid !== \"\"){ \n      // this.addKeranjang();\n      // console.log(\"Di Add\");\n      // }\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.state = {\n      user: {},\n      produks: [],\n      newKeranjangData: {\n        uid: \"\",\n        nama_bunga: \"\",\n        gambar: \"\",\n        jenis_bunga: \"\",\n        harga: \"\",\n        qty: \"\"\n      },\n      showModal: false\n    };\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n        console.log(\"User adalah : \" + user.email);\n      } else {\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.getProduk();\n  }\n\n  getProduk() {\n    axios.get(\"http://localhost:8000/api/produks\").then(response => {\n      if (response.status === 200) {\n        this.setState({\n          produks: response.data.data ? response.data.data : []\n        });\n      }\n\n      if (response.data.status === \"failed\" && response.data.success === false) {\n        this.setState({\n          noDataFound: response.data.message\n        });\n      }\n    });\n  } // onChangeAddProdukHandler = (e) => {\n  //     let { newProdukData } = this.state;\n  //     newProdukData[e.target.name] = e.target.value;\n  //     this.setState({ newProdukData });\n  //     console.log(this.state);\n  // };\n\n\n  render() {\n    var no = 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ProdukUser-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"t-produkUser\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Best Seller\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produkUser\",\n        children: this.state.produks.map(produk => {\n          no += 1;\n          return /*#__PURE__*/_jsxDEV(PostProdukUser, {\n            no: no,\n            uid: this.state.user.uid,\n            id: produk.id,\n            nama_bunga: produk.nama_bunga,\n            harga: produk.harga,\n            gambar: produk.gambar,\n            jenis_bunga: produk.jenis_bunga,\n            tambahProduk: this.handleBeli // update={this.handleUpdateTelevisi}\n            // hapus={this.deleteProduk}\n\n          }, produk.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/nurus file/Semester 6/PBF/FlowerShop (1)/uas_si/src/Component/ProdukUser.jsx"],"names":["React","Component","axios","PostProdukUser","firebase","firebaseConfig","swal","ProdukUser","constructor","props","addKeranjang","post","state","newKeranjangData","then","response","setState","uid","nama_bunga","gambar","jenis_bunga","harga","qty","getProduk","console","log","handleBeli","idProduk","nama_bungaP","apps","length","initializeApp","app","user","produks","showModal","authListener","auth","onAuthStateChanged","email","componentDidMount","get","status","data","success","noDataFound","message","render","no","map","produk","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport PostProdukUser from './PostProdukUser';\nimport firebase from 'firebase';\nimport firebaseConfig from '../firebase/firebaseConfig';\nimport swal from 'sweetalert';\n\nexport default class ProdukUser extends Component {\n\n    constructor(props) {\n        super(props)\n\n        if (!firebase.apps.length) {\n            firebase.initializeApp(firebaseConfig);\n        } else {\n            firebase.app(); // if already initialized, use that one\n        }\n\n        this.state = {\n            user: {},\n            produks: [],\n            newKeranjangData: {\n                uid: \"\",\n                nama_bunga: \"\",\n                gambar: \"\",\n                jenis_bunga: \"\",\n                harga: \"\",\n                qty: \"\"\n            },\n            showModal: false\n        }\n    }\n\n    authListener() {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({\n                    user\n                })\n\n                console.log(\"User adalah : \" + user.email)\n            }\n            else {\n                this.setState({\n                    user: null\n                })\n            }\n        })\n    }\n\n    componentDidMount() {\n        this.authListener();\n        this.getProduk();\n    }\n\n    getProduk() {\n        axios.get(\"http://localhost:8000/api/produks\").then((response) => {\n            if (response.status === 200) {\n                this.setState({\n                    produks: response.data.data ? response.data.data : [],\n                });\n            }\n            if (\n                response.data.status === \"failed\" &&\n                response.data.success === false\n            ) {\n                this.setState({\n                    noDataFound: response.data.message,\n                });\n            }\n        });\n    }\n\n    // onChangeAddProdukHandler = (e) => {\n    //     let { newProdukData } = this.state;\n    //     newProdukData[e.target.name] = e.target.value;\n    //     this.setState({ newProdukData });\n    //     console.log(this.state);\n    // };\n\n    addKeranjang = () => {\n        axios\n            .post(\n                \"http://localhost:8000/api/create-keranjang\",\n                this.state.newKeranjangData\n            )\n            .then((response) => {\n                // const { produks } = this.state;\n                // const newProduks = [...produks];\n                // newProduks.push(response.data);\n                this.setState(\n                    {\n                        newKeranjangData: {\n                            uid: \"\",\n                            nama_bunga: \"\",\n                            gambar: \"\",\n                            jenis_bunga: \"\",\n                            harga: \"\",\n                            qty: \"\",\n                        },\n                    },\n                    () => this.getProduk()\n                );\n            });\n        console.log(this.state);\n    };\n\n    handleBeli = (idProduk, uid, nama_bungaP, gambar, jenis_bunga, harga, qty) => {\n\n        this.setState({\n            newKeranjangData: {\n                ...this.state.newKeranjangData,\n                uid: uid,\n                nama_bunga: nama_bungaP,\n                gambar: gambar,\n                jenis_bunga: jenis_bunga,\n                harga: harga,\n                qty: qty\n            },\n        }, () => this.addKeranjang()\n        );\n\n        // console.log(this.state);\n\n        // if(this.state.newKeranjangData.uid !== \"\"){ \n        // this.addKeranjang();\n        // console.log(\"Di Add\");\n        // }\n    }\n\n    render() {\n        var no = 0;\n        return (\n            <div className=\"ProdukUser-page\">\n                <div className=\"t-produkUser\">\n                    <div />\n                    <h1>Best Seller</h1>\n                    <div />\n                </div>\n                <div className=\"produkUser\">\n                    {\n                        this.state.produks.map(produk => {\n                            no += 1;\n                            return (\n                                <PostProdukUser\n                                    no={no}\n                                    key={produk.id}\n                                    uid={this.state.user.uid}\n                                    id={produk.id}\n                                    nama_bunga={produk.nama_bunga}\n                                    harga={produk.harga}\n                                    gambar={produk.gambar}\n                                    jenis_bunga={produk.jenis_bunga}\n                                    tambahProduk={this.handleBeli}\n                                // update={this.handleUpdateTelevisi}\n                                // hapus={this.deleteProduk}\n                                />\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}