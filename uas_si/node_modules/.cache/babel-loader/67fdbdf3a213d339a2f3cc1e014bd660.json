{"ast":null,"code":"var _jsxFileName = \"D:\\\\nurus file\\\\Semester 6\\\\PBF\\\\FlowerShop (1)\\\\uas_si\\\\src\\\\Component\\\\Keranjang.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PostKeranjang from './PostKeranjang';\nimport firebase from 'firebase';\nimport firebaseConfig from '../firebase/firebaseConfig'; // import swal from 'sweetalert';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProdukUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteKeranjang = id => {\n      console.log(\"Id nya:\" + id);\n      axios.delete(\"http://localhost:8000/api/keranjang/\" + id).then(response => {\n        this.setState({\n          isLoading: false\n        });\n        this.getKeranjang();\n      }).catch(error => {\n        this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.state = {\n      keranjangs: [],\n      user: {},\n      keranjangUser: [],\n      newProdukData: {\n        nama_bunga: \"\",\n        gambar: \"\",\n        jenis_bunga: \"\",\n        harga: \"\"\n      },\n      showModal: false\n    };\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n        console.log(\"User adalah : \" + user.email);\n      } else {\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.getKeranjang();\n  }\n\n  getKeranjang() {\n    axios.get(\"http://localhost:8000/api/keranjangs\").then(response => {\n      if (response.status === 200) {\n        this.setState({\n          keranjangs: response.data.data ? response.data.data : []\n        });\n        console.log(this.state);\n      }\n\n      if (response.data.status === \"failed\" && response.data.success === false) {\n        this.setState({\n          noDataFound: response.data.message\n        });\n      }\n    });\n  }\n\n  render() {\n    var no = 0;\n    var total = 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"produkAdmin\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-keranjang\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabel-data\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            border: \"1\",\n            cellPadding: \"5\",\n            width: \"100%\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nama Bunga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Gambar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Jenis Bunga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Harga\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Sub-Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Opsi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), this.state.keranjangs.filter(produk => produk.uid === this.state.user.uid).map(filtered => {\n              no += 1;\n              total += filtered.harga * filtered.qty;\n              return /*#__PURE__*/_jsxDEV(PostKeranjang, {\n                no: no,\n                id: filtered.id,\n                nama_bunga: filtered.nama_bunga,\n                gambar: filtered.gambar,\n                jenis_bunga: filtered.jenis_bunga,\n                harga: filtered.harga,\n                qty: filtered.qty,\n                hapus: this.deleteKeranjang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 45\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"7\",\n                align: \"right\",\n                children: \"Total : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"center\",\n                children: total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/nurus file/Semester 6/PBF/FlowerShop (1)/uas_si/src/Component/Keranjang.jsx"],"names":["React","Component","axios","PostKeranjang","firebase","firebaseConfig","ProdukUser","constructor","props","deleteKeranjang","id","console","log","delete","then","response","setState","isLoading","getKeranjang","catch","error","apps","length","initializeApp","app","state","keranjangs","user","keranjangUser","newProdukData","nama_bunga","gambar","jenis_bunga","harga","showModal","authListener","auth","onAuthStateChanged","email","componentDidMount","get","status","data","success","noDataFound","message","render","no","total","filter","produk","uid","map","filtered","qty"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport PostKeranjang from './PostKeranjang';\nimport firebase from 'firebase';\nimport firebaseConfig from '../firebase/firebaseConfig';\n// import swal from 'sweetalert';\n\nexport default class ProdukUser extends Component {\n\n    constructor(props) {\n        super(props)\n\n        if (!firebase.apps.length) {\n            firebase.initializeApp(firebaseConfig);\n        } else {\n            firebase.app(); // if already initialized, use that one\n        }\n\n        this.state = {\n            keranjangs: [],\n            user: {},\n            keranjangUser: [],\n            newProdukData: {\n                nama_bunga: \"\",\n                gambar: \"\",\n                jenis_bunga: \"\",\n                harga: \"\",\n            },\n            showModal: false\n        }\n    }\n\n    authListener() {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({\n                    user\n                })\n                console.log(\"User adalah : \" + user.email)\n            }\n            else {\n                this.setState({\n                    user: null\n                })\n            }\n        })\n    }\n\n    componentDidMount() {\n        this.authListener();\n        this.getKeranjang();\n    }\n\n    getKeranjang() {\n        axios.get(\"http://localhost:8000/api/keranjangs\").then((response) => {\n            if (response.status === 200) {\n                this.setState({\n                    keranjangs: response.data.data ? response.data.data : [],\n                });\n                console.log(this.state)\n            }\n            if (\n                response.data.status === \"failed\" &&\n                response.data.success === false\n            ) {\n                this.setState({\n                    noDataFound: response.data.message,\n                });\n            }\n        });\n    }\n\n    deleteKeranjang = (id) => {\n        console.log(\"Id nya:\" + id);\n        axios\n            .delete(\"http://localhost:8000/api/keranjang/\" + id)\n            .then((response) => {\n                this.setState({\n                    isLoading: false,\n                });\n                this.getKeranjang();\n            })\n            .catch((error) => {\n                this.setState({\n                    isLoading: false,\n                });\n            });\n    };\n\n    render() {\n        var no = 0;\n        var total = 0;\n        return (\n            <div className=\"produkAdmin\">\n                <div className=\"card-keranjang\">\n                    <div className=\"tabel-data\">\n                        <table border=\"1\" cellPadding=\"5\" width=\"100%\">\n                            <tr>\n                                <th>No</th>\n                                <th>Nama Bunga</th>\n                                <th>Gambar</th>\n                                <th>Jenis Bunga</th>\n                                <th>Harga</th>\n                                <th>Qty</th>\n                                <th>Sub-Total</th>\n                                <th>Opsi</th>\n                            </tr>\n                            {\n                                this.state.keranjangs\n                                    .filter(produk => produk.uid === this.state.user.uid)\n                                    .map(filtered => {\n                                        no += 1;\n                                        total += filtered.harga * filtered.qty\n                                        return (\n                                            <PostKeranjang\n                                                no={no}\n                                                id={filtered.id}\n                                                nama_bunga={filtered.nama_bunga}\n                                                gambar={filtered.gambar}\n                                                jenis_bunga={filtered.jenis_bunga}\n                                                harga={filtered.harga}\n                                                qty={filtered.qty}\n                                                hapus={this.deleteKeranjang}\n                                            />\n                                        )\n                                    })\n                            }\n                            <tr>\n                                <td colSpan=\"7\" align=\"right\">Total : </td>\n                                <td align=\"center\">{total}</td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}